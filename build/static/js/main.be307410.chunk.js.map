{"version":3,"sources":["components/Home.jsx","components/Game.jsx","components/Win.jsx","components/Fail.jsx","canvasGame.png","App.jsx","index.js"],"names":["Home","className","onClick","window","location","blockSize","size","Math","round","innerHeight","bgColor","random","toString","playerColor","parseInt","substring","slice","canvasColor","bestScore","localStorage","getItem","Infinity","playerCords","x","y","allBlockCords","coins","time","Game","setItem","canvasRef","useRef","move","e","c","current","getContext","fillStyle","bgc","String","replace","length","i","rgb","substr","min","max","ColorLuminance","fillRect","key","forEach","index","splice","useEffect","setInterval","context","document","addEventListener","blockCords","push","draw","style","backgroundColor","id","ref","width","height","buttons","color","Win","again","Fail","App","href","src","icon","alt","path","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.be307410.chunk.js","sourcesContent":["import React from 'react'\n\nfunction Home() {\n    return (\n        <div>\n            <title>Randpix</title>\n            <button className=\"startB\" onClick={()=>window.location = \"/game\"}>Play</button>\n        </div>\n    )\n}\n\nexport default Home\n","import { useEffect, useRef } from 'react';\nconst blockSize = 50\nvar size = Math.round(window.innerHeight/150)*(blockSize*2.7)\nconst bgColor = \"#\" + ((1<<24)*Math.random() | 0).toString(16)\nconst playerColor = '#' + (\"000000\" + (0xFFFFFF ^ parseInt(bgColor.substring(1),16)).toString(16)).slice(-6);\nconst canvasColor = '#' + (\"000000\" + (0xFFFFFF ^ parseInt(bgColor.substring(1),16)).toString(16)).slice(-3);\nconst bestScore = localStorage.getItem(\"bestScore\") || Infinity\n\nvar playerCords = {\n  x: Math.round((Math.random()*size)/blockSize)*blockSize,\n  y: Math.round((Math.random()*size)/blockSize)*blockSize\n}\nvar allBlockCords =  []\nconst totalCoins = 3\nvar coins = 0\nvar time = 0\n\n//generates a bit darker color\nfunction ColorLuminance() {\n  let bgc = canvasColor \n  let lum = -0.03\n\tbgc = String(bgc).replace(/[^0-9a-f]/gi, '');\n\tif (bgc.length < 6) {\n\t\tbgc = bgc[0]+bgc[0]+bgc[1]+bgc[1]+bgc[2]+bgc[2];\n\t}\n\tvar rgb = \"#\", c, i;\n\tfor (i = 0; i < 3; i++) {\n\t\tc = parseInt(bgc.substr(i*2,2), 16);\n\t\tc = Math.round(Math.min(Math.max(0, c + (c * lum)), 255)).toString(16);\n\t\trgb += (\"00\"+c).substr(c.length);\n\t}\n\treturn rgb;\n}\n\nfunction Game() {\n  localStorage.setItem(\"bgColor\",bgColor)\n  localStorage.setItem(\"playerColor\", playerColor)\n  const canvasRef = useRef(null)\n\n  useEffect(() => {\n    setInterval(() => {\n      time+=0.01\n    }, 10)\n  }, [])\n  \n  const draw = c => {\n    c.fillStyle = bgColor\n    for (let i = 0; i <= totalCoins; i++) {\n      const blockCords = [Math.round((Math.random()*size)/blockSize)*blockSize, Math.round((Math.random()*size)/blockSize)*blockSize];\n      allBlockCords.push(blockCords);\n      c.fillRect(blockCords[0], blockCords[1], blockSize, blockSize)\n    }\n    c.fillStyle = playerColor\n    c.fillRect(playerCords.x,playerCords.y, blockSize, blockSize)\n  }\n  function move(e){\n    const canvas = canvasRef.current\n    const c = canvas.getContext('2d');\n    c.fillStyle = ColorLuminance()\n    c.fillRect(playerCords.x, playerCords.y, blockSize, blockSize)\n    c.fillStyle = playerColor\n\n    switch(e.key || e){\n      case \"w\":\n      case \"W\":\n        playerCords.y -= blockSize\n        break;\n      case \"a\":\n      case \"A\":\n        playerCords.x -= blockSize\n        break;\n      case \"s\":\n      case \"S\":\n        playerCords.y += blockSize\n        break;\n      case \"d\":\n      case \"D\":\n        playerCords.x += blockSize\n        break;\n      default:\n        break\n      }\n    \n    c.fillRect(playerCords.x, playerCords.y, blockSize, blockSize)\n\n    if(playerCords.x >= size || playerCords.y >= size || playerCords.x <= -50 || playerCords.y <=-50){\n      window.location = \"fail\"\n      return;\n    }\n    allBlockCords.forEach((e,index) => {\n      if(e[0] === playerCords.x && e[1] === playerCords.y){\n        coins++\n        if(coins === totalCoins){\n          if(time < bestScore){\n            localStorage.setItem(\"bestScore\", time.toString().substring(0,4))\n          }\n          localStorage.setItem(\"time\", time.toString().substring(0,4))\n          window.location = \"win\"\n        }\n        allBlockCords.splice(index, 1)\n      }\n    })\n    \n  }\n\n  useEffect(() => {\n    const canvas = canvasRef.current\n    const context = canvas.getContext('2d')\n    window.document.addEventListener('keypress',e => move(e, context))\n    draw(context)\n  }, [])\n\n  return (\n    <div>\n      <title>Play Randprix</title>\n      <canvas\n        style={{backgroundColor: canvasColor}}\n        id=\"canvas\"\n        ref={canvasRef}\n        width={size}\n        height={size}\n      />\n      <div className=\"phoneControls\">\n        <button onClick={(e,c) => move(e = \"w\",c)} className=\"u\">&uarr;</button><br />\n        <button onClick={(e,c) => move(e = \"a\",c)} className=\"l\">&larr;</button>\n        <button onClick={(e,c) => move(e = \"s\",c)} className=\"d\">&darr;</button>\n        <button onClick={(e,c) => move(e = \"d\",c)} className=\"r\">&rarr;</button>\n      </div>\n    </div>\n\n  );\n}\n\nexport default Game;","import React from 'react'\n\nconst bestScore = localStorage.getItem(\"bestScore\")\nconst time = localStorage.getItem(\"time\")\n\nexport const buttons = {\n    backgroundColor: localStorage.getItem(\"bgColor\"),\n    color: localStorage.getItem(\"playerColor\")\n}  \n\n\nfunction Win() {    \n\n    function again(e){\n        if(e.key === \"Enter\" | e.key === \" \" | !e.key){\n            window.location = \"/game\"\n        }\n    }\n    window.document.addEventListener('keypress', e => again(e))\n    return (\n        <div>\n            <title>You won</title>\n            <h2>Your time: {localStorage.getItem(\"time\")}s</h2>\n            <button onClick={again} style={buttons}>Try again.</button>\n            <div className=\"yourScores\">\n                <h1>Your best score: {bestScore}s</h1>\n                <h1>{bestScore === time ? \"Personal best!!\" : \"\"}</h1>\n            </div>\n        </div>\n    )\n}\n\nexport default Win\n","import React from 'react'\nimport { buttons } from './Win';\n\nfunction Fail() {\n    function again(e){\n        if(e.key === \"Enter\" | e.key === \" \" | !e.key){\n            window.location = \"/game\"\n        }\n    }\n    window.document.addEventListener('keypress',e => again(e))\n    return (\n        <div>\n            <title>Game over</title>\n            <h1>Game over</h1>\n            <button onClick={again} style={buttons}>Try again.</button>\n        </div>\n    )\n}\n\nexport default Fail;","export default __webpack_public_path__ + \"static/media/canvasGame.6843af89.png\";","import {\n  BrowserRouter as Router,\n  Switch,\n  Route\n} from \"react-router-dom\";\nimport './App.css';\nimport Home from \"./components/Home\";\nimport Game from \"./components/Game\";\nimport Fail from \"./components/Fail\";\nimport Win from \"./components/Win\";\nimport icon from \"./canvasGame.png\"\n\nfunction App() {\n  return(\n    <Router>\n      <div className=\"topIcon\">\n        \n        <a className=\"logo\" href=\"/\"><img className=\"icon\" src={icon} alt=\"icon\" />Randpix</a>\n        </div>\n        <Switch>\n          <Route path=\"/game\">\n            <Game />\n          </Route>\n          <Route path=\"/fail\">\n            <Fail/>\n          </Route>\n          <Route exact path=\"/\">\n            <Home/>\n          </Route>\n          <Route>\n            <Win/>\n          </Route>\n        </Switch>\n    </Router>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App.jsx';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}